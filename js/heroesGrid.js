import { EventEmitter } from './core.js';
import { HEROES } from './heroes.js';
const colSymbol = 'abcdefghijklmnop';
const rowCount = 7;
let parentSelector = '#grid';
const gridCN = 'heroes-grid';
const _grid = `<div class="${gridCN}"></div>`;
const gridWrapCN = 'heroes-grid-wrap';
const _gridWrap = `<div class="${gridWrapCN}"></div>`;
const cellCN = 'heroes-grid__cell';
const _cell = `<div class="${cellCN}"></div>`;
const symbolCN = 'heroes-grid__symbol';
const _symbol = `<div class="${symbolCN}"></div>`;
const heroCN = 'heroes-grid__hero';
const _hero = `<img class="${heroCN}">`;
class HeroesGridModel extends EventEmitter {
    constructor() {
        super(...arguments);
        this.heroes = HEROES;
    }
    getHero(id) {
        return this.heroes.find(hero => hero.id == id);
    }
}
class HeroesGridView extends EventEmitter {
    constructor(model) {
        super();
        this.elements = {
            $wrap: $(parentSelector),
            $grid: $(_grid)
        };
        this._model = model;
    }
    initGrid() {
        const $wrap = this.elements.$wrap;
        const $grid = this.elements.$grid;
        const $gridWrap = $(_gridWrap);
        $gridWrap.append($grid).appendTo($wrap);
        for (let i = -1; i <= rowCount; i++)
            for (let j = -1; j <= colSymbol.length; j++) {
                const $grid = this.elements.$grid;
                const $cell = $(_cell);
                if (i == -1 || i == rowCount) {
                    if (colSymbol[j]) {
                        const $symbol = $(_symbol);
                        $symbol.text(colSymbol[j]);
                        $cell.append($symbol);
                    }
                }
                else {
                    if (j == -1 || j == colSymbol.length) {
                        const $symbol = $(_symbol);
                        $symbol.text(i + 1);
                        $cell.append($symbol);
                    }
                    else {
                        const hero = this._model.getHero(colSymbol[j] + (i + 1));
                        const $img = $(_hero);
                        $img.attr({
                            src: hero.thumb,
                            alt: hero.name,
                            'data-id': hero.id
                        });
                        $cell.append($img);
                    }
                }
                $grid.append($cell);
            }
    }
    render() {
        this.initGrid();
    }
}
class HeroesGridController {
    constructor(model, view) {
        this._model = model;
        this._view = view;
    }
}
export class HeroesGrid {
    constructor(gridOpt) {
        this.model = new HeroesGridModel();
        this.view = new HeroesGridView(this.model);
        this.controller = new HeroesGridController(this.model, this.view);
        if (gridOpt) {
            if (gridOpt.parent)
                parentSelector = gridOpt.parent;
        }
        this.view.render();
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,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LGVBQVUsR0FBRyxJQUFJLG9CQUFvQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBR3pELElBQUksT0FBTyxFQUFFO1lBQ1QsSUFBSSxPQUFPLENBQUMsTUFBTTtnQkFBRSxjQUFjLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztTQUN2RDtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQztDQUNKIiwiZmlsZSI6Imhlcm9lc0dyaWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL2NvcmUuanMnO1xyXG5pbXBvcnQgeyBIRVJPRVMgfSBmcm9tICcuL2hlcm9lcy5qcyc7XHJcbmltcG9ydCB7IEhlcm8sIEdyaWRPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5jb25zdCBjb2xTeW1ib2wgPSAnYWJjZGVmZ2hpamtsbW5vcCc7XHJcbmNvbnN0IHJvd0NvdW50ID0gNztcclxuXHJcbmxldCBwYXJlbnRTZWxlY3RvciA9ICcjZ3JpZCc7XHJcblxyXG5jb25zdCBncmlkQ04gPSAnaGVyb2VzLWdyaWQnO1xyXG5jb25zdCBfZ3JpZCA9IGA8ZGl2IGNsYXNzPVwiJHtncmlkQ059XCI+PC9kaXY+YDtcclxuXHJcbmNvbnN0IGdyaWRXcmFwQ04gPSAnaGVyb2VzLWdyaWQtd3JhcCc7XHJcbmNvbnN0IF9ncmlkV3JhcCA9IGA8ZGl2IGNsYXNzPVwiJHtncmlkV3JhcENOfVwiPjwvZGl2PmA7XHJcblxyXG5jb25zdCBjZWxsQ04gPSAnaGVyb2VzLWdyaWRfX2NlbGwnO1xyXG5jb25zdCBfY2VsbCA9IGA8ZGl2IGNsYXNzPVwiJHtjZWxsQ059XCI+PC9kaXY+YDtcclxuXHJcbmNvbnN0IHN5bWJvbENOID0gJ2hlcm9lcy1ncmlkX19zeW1ib2wnO1xyXG5jb25zdCBfc3ltYm9sID0gYDxkaXYgY2xhc3M9XCIke3N5bWJvbENOfVwiPjwvZGl2PmA7XHJcblxyXG5jb25zdCBoZXJvQ04gPSAnaGVyb2VzLWdyaWRfX2hlcm8nO1xyXG5jb25zdCBfaGVybyA9IGA8aW1nIGNsYXNzPVwiJHtoZXJvQ059XCI+YDtcclxuXHJcblxyXG5jbGFzcyBIZXJvZXNHcmlkTW9kZWwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgaGVyb2VzOiBIZXJvW10gPSBIRVJPRVM7XHJcblxyXG4gICAgZ2V0SGVybyhpZDogc3RyaW5nKTogSGVybyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVyb2VzLmZpbmQoaGVybyA9PiBoZXJvLmlkID09IGlkKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSGVyb2VzR3JpZFZpZXcgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgX21vZGVsOiBIZXJvZXNHcmlkTW9kZWw7XHJcblxyXG4gICAgZWxlbWVudHMgPSB7XHJcbiAgICAgICAgJHdyYXA6ICQocGFyZW50U2VsZWN0b3IpLFxyXG4gICAgICAgICRncmlkOiAkKF9ncmlkKVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogSGVyb2VzR3JpZE1vZGVsKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0R3JpZCgpIHtcclxuICAgICAgICBjb25zdCAkd3JhcCA9IHRoaXMuZWxlbWVudHMuJHdyYXA7XHJcbiAgICAgICAgY29uc3QgJGdyaWQgPSB0aGlzLmVsZW1lbnRzLiRncmlkO1xyXG4gICAgICAgIGNvbnN0ICRncmlkV3JhcCA9ICQoX2dyaWRXcmFwKTtcclxuXHJcbiAgICAgICAgJGdyaWRXcmFwLmFwcGVuZCgkZ3JpZCkuYXBwZW5kVG8oJHdyYXApO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gLTE7IGkgPD0gcm93Q291bnQ7IGkrKykgZm9yIChsZXQgaiA9IC0xOyBqIDw9IGNvbFN5bWJvbC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb25zdCAkZ3JpZCA9IHRoaXMuZWxlbWVudHMuJGdyaWQ7XHJcbiAgICAgICAgICAgIGNvbnN0ICRjZWxsID0gJChfY2VsbCk7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGkgPT0gLTEgfHwgaSA9PSByb3dDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbFN5bWJvbFtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRzeW1ib2wgPSAkKF9zeW1ib2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzeW1ib2wudGV4dChjb2xTeW1ib2xbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRjZWxsLmFwcGVuZCgkc3ltYm9sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA9PSAtMSB8fCBqID09IGNvbFN5bWJvbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCAkc3ltYm9sID0gJChfc3ltYm9sKTtcclxuICAgICAgICAgICAgICAgICAgICAkc3ltYm9sLnRleHQoaSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICRjZWxsLmFwcGVuZCgkc3ltYm9sKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVybyA9IHRoaXMuX21vZGVsLmdldEhlcm8oY29sU3ltYm9sW2pdICsgKGkgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGltZyA9ICQoX2hlcm8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkaW1nLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGhlcm8udGh1bWIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogaGVyby5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS1pZCc6IGhlcm8uaWRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICRjZWxsLmFwcGVuZCgkaW1nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIFxyXG4gICAgICAgICAgICAkZ3JpZC5hcHBlbmQoJGNlbGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0R3JpZCgpO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSGVyb2VzR3JpZENvbnRyb2xsZXIge1xyXG4gICAgX21vZGVsOiBIZXJvZXNHcmlkTW9kZWw7XHJcbiAgICBfdmlldzogSGVyb2VzR3JpZFZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZWw6IEhlcm9lc0dyaWRNb2RlbCwgdmlldzogSGVyb2VzR3JpZFZpZXcpIHtcclxuICAgICAgICB0aGlzLl9tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMuX3ZpZXcgPSB2aWV3O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSGVyb2VzR3JpZCB7IFxyXG4gICAgbW9kZWwgICAgICA9IG5ldyBIZXJvZXNHcmlkTW9kZWwoKTtcclxuICAgIHZpZXcgICAgICAgPSBuZXcgSGVyb2VzR3JpZFZpZXcodGhpcy5tb2RlbCk7XHJcbiAgICBjb250cm9sbGVyID0gbmV3IEhlcm9lc0dyaWRDb250cm9sbGVyKHRoaXMubW9kZWwsIHRoaXMudmlldyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ3JpZE9wdD86IEdyaWRPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGdyaWRPcHQpIHtcclxuICAgICAgICAgICAgaWYgKGdyaWRPcHQucGFyZW50KSBwYXJlbnRTZWxlY3RvciA9IGdyaWRPcHQucGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy52aWV3LnJlbmRlcigpO1xyXG4gICAgfVxyXG59Il19
